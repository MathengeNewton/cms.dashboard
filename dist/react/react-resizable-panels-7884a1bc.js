import{R as Ve}from"./react-e483b31d.js";const{createElement:ae,createContext:yn,createRef:jn,forwardRef:Xe,useCallback:F,useContext:Te,useEffect:te,useImperativeHandle:Ue,useLayoutEffect:zn,useMemo:vn,useRef:G,useState:pe}=Ve,ke=Ve["useId".toString()],xn=zn,Se=yn(null);Se.displayName="PanelGroupContext";const oe=xn,Sn=typeof ke=="function"?ke:()=>null;let Pn=0;function Ae(e=null){const n=Sn(),t=G(e||n||null);return t.current===null&&(t.current=""+Pn++),e??t.current}function qe({children:e,className:n="",collapsedSize:t,collapsible:o,defaultSize:i,forwardedRef:r,id:l,maxSize:s,minSize:a,onCollapse:m,onExpand:P,onResize:d,order:u,style:g,tagName:f="div",...E}){const w=Te(Se);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:I,getPanelSize:R,getPanelStyle:N,groupId:L,isPanelCollapsed:z,reevaluatePanelConstraints:q,registerPanel:B,resizePanel:V,unregisterPanel:O}=w,X=Ae(l),A=G({callbacks:{onCollapse:m,onExpand:P,onResize:d},constraints:{collapsedSize:t,collapsible:o,defaultSize:i,maxSize:s,minSize:a},id:X,idIsFromProps:l!==void 0,order:u});G({didLogMissingDefaultSizeWarning:!1}),oe(()=>{const{callbacks:_,constraints:D}=A.current,T={...D};A.current.id=X,A.current.idIsFromProps=l!==void 0,A.current.order=u,_.onCollapse=m,_.onExpand=P,_.onResize=d,D.collapsedSize=t,D.collapsible=o,D.defaultSize=i,D.maxSize=s,D.minSize=a,(T.collapsedSize!==D.collapsedSize||T.collapsible!==D.collapsible||T.maxSize!==D.maxSize||T.minSize!==D.minSize)&&q(A.current,T)}),oe(()=>{const _=A.current;return B(_),()=>{O(_)}},[u,X,B,O]),Ue(r,()=>({collapse:()=>{S(A.current)},expand:()=>{I(A.current)},getId(){return X},getSize(){return R(A.current)},isCollapsed(){return z(A.current)},isExpanded(){return!z(A.current)},resize:_=>{V(A.current,_)}}),[S,I,R,z,X,V]);const J=N(A.current,i);return ae(f,{...E,children:e,className:n,id:l,style:{...J,...g},"data-panel":"","data-panel-collapsible":o||void 0,"data-panel-group-id":L,"data-panel-id":X,"data-panel-size":parseFloat(""+J.flexGrow).toFixed(1)})}const bn=Xe((e,n)=>ae(qe,{...e,forwardedRef:n}));qe.displayName="Panel";bn.displayName="forwardRef(Panel)";let Re=null,ne=null;function wn(e,n){if(n){const t=(n&Ze)!==0,o=(n&Qe)!==0,i=(n&en)!==0,r=(n&nn)!==0;if(t)return i?"se-resize":r?"ne-resize":"e-resize";if(o)return i?"sw-resize":r?"nw-resize":"w-resize";if(i)return"s-resize";if(r)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function En(){ne!==null&&(document.head.removeChild(ne),Re=null,ne=null)}function Ce(e,n){const t=wn(e,n);Re!==t&&(Re=t,ne===null&&(ne=document.createElement("style"),document.head.appendChild(ne)),ne.innerHTML=`*{cursor: ${t}!important;}`)}function Je(e){return e.type==="keydown"}function Oe(e){return e.type.startsWith("mouse")}function je(e){return e.type.startsWith("touch")}function Pe(e){if(Oe(e))return{x:e.clientX,y:e.clientY};if(je(e)){const n=e.touches[0];if(n&&n.clientX&&n.clientY)return{x:n.clientX,y:n.clientY}}return{x:1/0,y:1/0}}function Ln(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Cn(e,n,t){return t?e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y:e.x<=n.x+n.width&&e.x+e.width>=n.x&&e.y<=n.y+n.height&&e.y+e.height>=n.y}function In(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:Ge(e),b:Ge(n)};let o;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),o=e;x(o,"Stacking order can only be calculated for elements with a common ancestor");const i={a:He(_e(t.a)),b:He(_e(t.b))};if(i.a===i.b){const r=o.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let s=r.length;for(;s--;){const a=r[s];if(a===l.a)return 1;if(a===l.b)return-1}}return Math.sign(i.a-i.b)}const Rn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function An(e){const n=getComputedStyle(Ye(e)).display;return n==="flex"||n==="inline-flex"}function Mn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||An(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||Rn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function _e(e){let n=e.length;for(;n--;){const t=e[n];if(x(t,"Missing node"),Mn(t))return t}return null}function He(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ge(e){const n=[];for(;e;)n.push(e),e=Ye(e);return n}function Ye(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.host)||e.parentNode}const Ze=1,Qe=2,en=4,nn=8,Dn=Ln()==="coarse";let Q=[],be=!1,Z=new Map,we=new Map;const he=new Set;function Nn(e,n,t,o,i){var r;const{ownerDocument:l}=n,s={direction:t,element:n,hitAreaMargins:o,setResizeHandlerState:i},a=(r=Z.get(l))!==null&&r!==void 0?r:0;return Z.set(l,a+1),he.add(s),xe(),function(){var P;we.delete(e),he.delete(s);const d=(P=Z.get(l))!==null&&P!==void 0?P:1;Z.set(l,d-1),xe(),d===1&&Z.delete(l)}}function ze(e){const{target:n}=e,{x:t,y:o}=Pe(e);be=!0,Me({target:n,x:t,y:o}),xe(),Q.length>0&&(De("down",e),e.preventDefault())}function j(e){const{x:n,y:t}=Pe(e);if(!be){const{target:o}=e;Me({target:o,x:n,y:t})}De("move",e),tn(),Q.length>0&&e.preventDefault()}function Y(e){const{target:n}=e,{x:t,y:o}=Pe(e);we.clear(),be=!1,Q.length>0&&e.preventDefault(),De("up",e),Me({target:n,x:t,y:o}),tn(),xe()}function Me({target:e,x:n,y:t}){Q.splice(0);let o=null;e instanceof HTMLElement&&(o=e),he.forEach(i=>{const{element:r,hitAreaMargins:l}=i,s=r.getBoundingClientRect(),{bottom:a,left:m,right:P,top:d}=s,u=Dn?l.coarse:l.fine;if(n>=m-u&&n<=P+u&&t>=d-u&&t<=a+u){if(o!==null&&r!==o&&!r.contains(o)&&!o.contains(r)&&In(o,r)>0){let f=o,E=!1;for(;f&&!f.contains(r);){if(Cn(f.getBoundingClientRect(),s,!0)){E=!0;break}f=f.parentElement}if(E)return}Q.push(i)}})}function Ie(e,n){we.set(e,n)}function tn(){let e=!1,n=!1;Q.forEach(o=>{const{direction:i}=o;i==="horizontal"?e=!0:n=!0});let t=0;we.forEach(o=>{t|=o}),e&&n?Ce("intersection",t):e?Ce("horizontal",t):n?Ce("vertical",t):En()}function xe(){Z.forEach((e,n)=>{const{body:t}=n;t.removeEventListener("contextmenu",Y),t.removeEventListener("mousedown",ze),t.removeEventListener("mouseleave",j),t.removeEventListener("mousemove",j),t.removeEventListener("touchmove",j),t.removeEventListener("touchstart",ze)}),window.removeEventListener("mouseup",Y),window.removeEventListener("touchcancel",Y),window.removeEventListener("touchend",Y),he.size>0&&(be?(Q.length>0&&Z.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("contextmenu",Y),t.addEventListener("mouseleave",j),t.addEventListener("mousemove",j),t.addEventListener("touchmove",j,{passive:!1}))}),window.addEventListener("mouseup",Y),window.addEventListener("touchcancel",Y),window.addEventListener("touchend",Y)):Z.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("mousedown",ze),t.addEventListener("mousemove",j),t.addEventListener("touchmove",j,{passive:!1}),t.addEventListener("touchstart",ze))}))}function De(e,n){he.forEach(t=>{const{setResizeHandlerState:o}=t,i=Q.includes(t);o(e,i,n)})}function x(e,n){if(!e)throw console.error(n),Error(n)}const on=10;function me(e,n,t=on){e=parseFloat(e.toFixed(t)),n=parseFloat(n.toFixed(t));const o=e-n;return o===0?0:o>0?1:-1}function K(e,n,t){return me(e,n,t)===0}function $n(e,n,t){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){const i=e[o],r=n[o];if(!K(i,r,t))return!1}return!0}function se({panelConstraints:e,panelIndex:n,size:t}){const o=e[n];x(o!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:r,maxSize:l=100,minSize:s=0}=o;if(me(t,s)<0)if(r){const a=(i+s)/2;me(t,a)<0?t=i:t=s}else t=s;return t=Math.min(l,t),t=parseFloat(t.toFixed(on)),t}function de({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:o,prevLayout:i,trigger:r}){if(K(e,0))return n;const l=[...n],[s,a]=o;x(s!=null,"Invalid first pivot index"),x(a!=null,"Invalid second pivot index");let m=0;if(r==="keyboard"){{const d=e<0?a:s,u=t[d];x(u,`Panel constraints not found for index ${d}`);const{collapsedSize:g=0,collapsible:f,minSize:E=0}=u;if(f){const w=n[d];if(x(w!=null,`Previous layout not found for panel index ${d}`),K(w,g)){const S=E-w;me(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}{const d=e<0?s:a,u=t[d];x(u,`No panel constraints found for index ${d}`);const{collapsedSize:g=0,collapsible:f,minSize:E=0}=u;if(f){const w=n[d];if(x(w!=null,`Previous layout not found for panel index ${d}`),K(w,E)){const S=w-g;me(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}}{const d=e<0?1:-1;let u=e<0?a:s,g=0;for(;;){const E=n[u];x(E!=null,`Previous layout not found for panel index ${u}`);const S=se({panelConstraints:t,panelIndex:u,size:100})-E;if(g+=S,u+=d,u<0||u>=t.length)break}const f=Math.min(Math.abs(e),Math.abs(g));e=e<0?0-f:f}{let u=e<0?s:a;for(;u>=0&&u<t.length;){const g=Math.abs(e)-Math.abs(m),f=n[u];x(f!=null,`Previous layout not found for panel index ${u}`);const E=f-g,w=se({panelConstraints:t,panelIndex:u,size:E});if(!K(f,w)&&(m+=f-w,l[u]=w,m.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if($n(i,l))return i;{const d=e<0?a:s,u=n[d];x(u!=null,`Previous layout not found for panel index ${d}`);const g=u+m,f=se({panelConstraints:t,panelIndex:d,size:g});if(l[d]=f,!K(f,g)){let E=g-f,S=e<0?a:s;for(;S>=0&&S<t.length;){const I=l[S];x(I!=null,`Previous layout not found for panel index ${S}`);const R=I+E,N=se({panelConstraints:t,panelIndex:S,size:R});if(K(I,N)||(E-=N-I,l[S]=N),K(E,0))break;e>0?S--:S++}}}const P=l.reduce((d,u)=>u+d,0);return K(P,100)?l:i}function kn({layout:e,panelsArray:n,pivotIndices:t}){let o=0,i=100,r=0,l=0;const s=t[0];x(s!=null,"No pivot index found"),n.forEach((d,u)=>{const{constraints:g}=d,{maxSize:f=100,minSize:E=0}=g;u===s?(o=E,i=f):(r+=E,l+=f)});const a=Math.min(i,100-r),m=Math.max(o,100-l),P=e[s];return{valueMax:a,valueMin:m,valueNow:P}}function ge(e,n=document){return Array.from(n.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function rn(e,n,t=document){const i=ge(e,t).findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===n);return i??null}function ln(e,n,t){const o=rn(e,n,t);return o!=null?[o,o+1]:[-1,-1]}function sn(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const o=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function Ee(e,n=document){const t=n.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function _n(e,n,t,o=document){var i,r,l,s;const a=Ee(n,o),m=ge(e,o),P=a?m.indexOf(a):-1,d=(i=(r=t[P])===null||r===void 0?void 0:r.id)!==null&&i!==void 0?i:null,u=(l=(s=t[P+1])===null||s===void 0?void 0:s.id)!==null&&l!==void 0?l:null;return[d,u]}function Hn({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:o,panelDataArray:i,panelGroupElement:r,setLayout:l}){G({didWarnAboutMissingResizeHandle:!1}),oe(()=>{if(!r)return;const s=ge(t,r);for(let a=0;a<i.length-1;a++){const{valueMax:m,valueMin:P,valueNow:d}=kn({layout:o,panelsArray:i,pivotIndices:[a,a+1]}),u=s[a];if(u!=null){const g=i[a];x(g,`No panel data found for index "${a}"`),u.setAttribute("aria-controls",g.id),u.setAttribute("aria-valuemax",""+Math.round(m)),u.setAttribute("aria-valuemin",""+Math.round(P)),u.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{s.forEach((a,m)=>{a.removeAttribute("aria-controls"),a.removeAttribute("aria-valuemax"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuenow")})}},[t,o,i,r]),te(()=>{if(!r)return;const s=n.current;x(s,"Eager values not found");const{panelDataArray:a}=s,m=sn(t,r);x(m!=null,`No group found for id "${t}"`);const P=ge(t,r);x(P,`No resize handles found for group id "${t}"`);const d=P.map(u=>{const g=u.getAttribute("data-panel-resize-handle-id");x(g,"Resize handle element has no handle id attribute");const[f,E]=_n(t,g,a,r);if(f==null||E==null)return()=>{};const w=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const I=a.findIndex(R=>R.id===f);if(I>=0){const R=a[I];x(R,`No panel data found for index ${I}`);const N=o[I],{collapsedSize:L=0,collapsible:z,minSize:q=0}=R.constraints;if(N!=null&&z){const B=de({delta:K(N,L)?q-L:L-N,initialLayout:o,panelConstraints:a.map(V=>V.constraints),pivotIndices:ln(t,g,r),prevLayout:o,trigger:"keyboard"});o!==B&&l(B)}}break}}};return u.addEventListener("keydown",w),()=>{u.removeEventListener("keydown",w)}});return()=>{d.forEach(u=>u())}},[r,e,n,t,o,i,l])}function Be(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function an(e,n){const t=e==="horizontal",{x:o,y:i}=Pe(n);return t?o:i}function Gn(e,n,t,o,i){const r=t==="horizontal",l=Ee(n,i);x(l,`No resize handle element found for id "${n}"`);const s=l.getAttribute("data-panel-group-id");x(s,"Resize handle element has no group id attribute");let{initialCursorPosition:a}=o;const m=an(t,e),P=sn(s,i);x(P,`No group element found for id "${s}"`);const d=P.getBoundingClientRect(),u=r?d.width:d.height;return(m-a)/u*100}function Bn(e,n,t,o,i,r){if(Je(e)){const l=t==="horizontal";let s=0;e.shiftKey?s=100:i!=null?s=i:s=10;let a=0;switch(e.key){case"ArrowDown":a=l?0:s;break;case"ArrowLeft":a=l?-s:0;break;case"ArrowRight":a=l?s:0;break;case"ArrowUp":a=l?0:-s;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return o==null?0:Gn(e,n,t,o,r)}function Fn({panelDataArray:e}){const n=Array(e.length),t=e.map(r=>r.constraints);let o=0,i=100;for(let r=0;r<e.length;r++){const l=t[r];x(l,`Panel constraints not found for index ${r}`);const{defaultSize:s}=l;s!=null&&(o++,n[r]=s,i-=s)}for(let r=0;r<e.length;r++){const l=t[r];x(l,`Panel constraints not found for index ${r}`);const{defaultSize:s}=l;if(s!=null)continue;const a=e.length-o,m=i/a;o++,n[r]=m,i-=m}return n}function ie(e,n,t){n.forEach((o,i)=>{const r=e[i];x(r,`Panel data not found for index ${i}`);const{callbacks:l,constraints:s,id:a}=r,{collapsedSize:m=0,collapsible:P}=s,d=t[a];if(d==null||o!==d){t[a]=o;const{onCollapse:u,onExpand:g,onResize:f}=l;f&&f(o,d),P&&(u||g)&&(g&&(d==null||d===m)&&o!==m&&g(),u&&(d==null||d!==m)&&o===m&&u())}})}function ve(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Kn({defaultSize:e,dragState:n,layout:t,panelData:o,panelIndex:i,precision:r=3}){const l=t[i];let s;return l==null?s=e!=null?e.toPrecision(r):"1":o.length===1?s="1":s=l.toPrecision(r),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Wn(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Fe(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function un(e){return`react-resizable-panels:${e}`}function cn(e){return e.map(n=>{const{constraints:t,id:o,idIsFromProps:i,order:r}=n;return i?o:r?`${r}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function dn(e,n){try{const t=un(e),o=n.getItem(t);if(o){const i=JSON.parse(o);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Vn(e,n,t){var o,i;const r=(o=dn(e,t))!==null&&o!==void 0?o:{},l=cn(n);return(i=r[l])!==null&&i!==void 0?i:null}function Xn(e,n,t,o,i){var r;const l=un(e),s=cn(n),a=(r=dn(e,i))!==null&&r!==void 0?r:{};a[s]={expandToSizes:Object.fromEntries(t.entries()),layout:o};try{i.setItem(l,JSON.stringify(a))}catch(m){console.error(m)}}function Ke({layout:e,panelConstraints:n}){const t=[...e],o=t.reduce((r,l)=>r+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(r=>`${r}%`).join(", ")}`);if(!K(o,100))for(let r=0;r<n.length;r++){const l=t[r];x(l!=null,`No layout data found for index ${r}`);const s=100/o*l;t[r]=s}let i=0;for(let r=0;r<n.length;r++){const l=t[r];x(l!=null,`No layout data found for index ${r}`);const s=se({panelConstraints:n,panelIndex:r,size:l});l!=s&&(i+=l-s,t[r]=s)}if(!K(i,0))for(let r=0;r<n.length;r++){const l=t[r];x(l!=null,`No layout data found for index ${r}`);const s=l+i,a=se({panelConstraints:n,panelIndex:r,size:s});if(l!==a&&(i-=a-l,t[r]=a,K(i,0)))break}return t}const Tn=100,fe={getItem:e=>(Fe(fe),fe.getItem(e)),setItem:(e,n)=>{Fe(fe),fe.setItem(e,n)}},We={};function fn({autoSaveId:e=null,children:n,className:t="",direction:o,forwardedRef:i,id:r=null,onLayout:l=null,keyboardResizeBy:s=null,storage:a=fe,style:m,tagName:P="div",...d}){const u=Ae(r),g=G(null),[f,E]=pe(null),[w,S]=pe([]),I=G({}),R=G(new Map),N=G(0),L=G({autoSaveId:e,direction:o,dragState:f,id:u,keyboardResizeBy:s,onLayout:l,storage:a}),z=G({layout:w,panelDataArray:[],panelDataArrayChanged:!1});G({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Ue(i,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:c}=z.current;return c},setLayout:c=>{const{onLayout:y}=L.current,{layout:p,panelDataArray:h}=z.current,v=Ke({layout:c,panelConstraints:h.map(b=>b.constraints)});Be(p,v)||(S(v),z.current.layout=v,y&&y(v),ie(h,v,I.current))}}),[]),oe(()=>{L.current.autoSaveId=e,L.current.direction=o,L.current.dragState=f,L.current.id=u,L.current.onLayout=l,L.current.storage=a}),Hn({committedValuesRef:L,eagerValuesRef:z,groupId:u,layout:w,panelDataArray:z.current.panelDataArray,setLayout:S,panelGroupElement:g.current}),te(()=>{const{panelDataArray:c}=z.current;if(e){if(w.length===0||w.length!==c.length)return;let y=We[e];y==null&&(y=Wn(Xn,Tn),We[e]=y);const p=[...c],h=new Map(R.current);y(e,p,h,w,a)}},[e,w,a]),te(()=>{});const q=F(c=>{const{onLayout:y}=L.current,{layout:p,panelDataArray:h}=z.current;if(c.constraints.collapsible){const v=h.map(W=>W.constraints),{collapsedSize:b=0,panelSize:C,pivotIndices:$}=ee(h,c,p);if(x(C!=null,`Panel size not found for panel "${c.id}"`),C!==b){R.current.set(c.id,C);const k=le(h,c)===h.length-1?C-b:b-C,M=de({delta:k,initialLayout:p,panelConstraints:v,pivotIndices:$,prevLayout:p,trigger:"imperative-api"});ve(p,M)||(S(M),z.current.layout=M,y&&y(M),ie(h,M,I.current))}}},[]),B=F(c=>{const{onLayout:y}=L.current,{layout:p,panelDataArray:h}=z.current;if(c.constraints.collapsible){const v=h.map(k=>k.constraints),{collapsedSize:b=0,panelSize:C,minSize:$=0,pivotIndices:W}=ee(h,c,p);if(C===b){const k=R.current.get(c.id),M=k!=null&&k>=$?k:$,Le=le(h,c)===h.length-1?C-M:M-C,H=de({delta:Le,initialLayout:p,panelConstraints:v,pivotIndices:W,prevLayout:p,trigger:"imperative-api"});ve(p,H)||(S(H),z.current.layout=H,y&&y(H),ie(h,H,I.current))}}},[]),V=F(c=>{const{layout:y,panelDataArray:p}=z.current,{panelSize:h}=ee(p,c,y);return x(h!=null,`Panel size not found for panel "${c.id}"`),h},[]),O=F((c,y)=>{const{panelDataArray:p}=z.current,h=le(p,c);return Kn({defaultSize:y,dragState:f,layout:w,panelData:p,panelIndex:h})},[f,w]),X=F(c=>{const{layout:y,panelDataArray:p}=z.current,{collapsedSize:h=0,collapsible:v,panelSize:b}=ee(p,c,y);return v===!0&&b===h},[]),A=F(c=>{const{layout:y,panelDataArray:p}=z.current,{collapsedSize:h=0,collapsible:v,panelSize:b}=ee(p,c,y);return x(b!=null,`Panel size not found for panel "${c.id}"`),!v||b>h},[]),J=F(c=>{const{panelDataArray:y}=z.current;y.push(c),y.sort((p,h)=>{const v=p.order,b=h.order;return v==null&&b==null?0:v==null?-1:b==null?1:v-b}),z.current.panelDataArrayChanged=!0},[]);oe(()=>{if(z.current.panelDataArrayChanged){z.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:y,storage:p}=L.current,{layout:h,panelDataArray:v}=z.current;let b=null;if(c){const $=Vn(c,v,p);$&&(R.current=new Map(Object.entries($.expandToSizes)),b=$.layout)}b==null&&(b=Fn({panelDataArray:v}));const C=Ke({layout:b,panelConstraints:v.map($=>$.constraints)});Be(h,C)||(S(C),z.current.layout=C,y&&y(C),ie(v,C,I.current))}}),oe(()=>{const c=z.current;return()=>{c.layout=[]}},[]);const _=F(c=>function(p){p.preventDefault();const h=g.current;if(!h)return()=>null;const{direction:v,dragState:b,id:C,keyboardResizeBy:$,onLayout:W}=L.current,{layout:k,panelDataArray:M}=z.current,{initialLayout:re}=b??{},Le=ln(C,c,h);let H=Bn(p,c,v,b,$,h);if(H===0)return;const Ne=v==="horizontal";document.dir==="rtl"&&Ne&&(H=-H);const mn=M.map(gn=>gn.constraints),ce=de({delta:H,initialLayout:re??k,panelConstraints:mn,pivotIndices:Le,prevLayout:k,trigger:Je(p)?"keyboard":"mouse-or-touch"}),$e=!ve(k,ce);(Oe(p)||je(p))&&N.current!=H&&(N.current=H,$e?Ie(c,0):Ne?Ie(c,H<0?Ze:Qe):Ie(c,H<0?en:nn)),$e&&(S(ce),z.current.layout=ce,W&&W(ce),ie(M,ce,I.current))},[]),D=F((c,y)=>{const{onLayout:p}=L.current,{layout:h,panelDataArray:v}=z.current,b=v.map(re=>re.constraints),{panelSize:C,pivotIndices:$}=ee(v,c,h);x(C!=null,`Panel size not found for panel "${c.id}"`);const k=le(v,c)===v.length-1?C-y:y-C,M=de({delta:k,initialLayout:h,panelConstraints:b,pivotIndices:$,prevLayout:h,trigger:"imperative-api"});ve(h,M)||(S(M),z.current.layout=M,p&&p(M),ie(v,M,I.current))},[]),T=F((c,y)=>{const{layout:p,panelDataArray:h}=z.current,{collapsedSize:v=0,collapsible:b}=y,{collapsedSize:C=0,collapsible:$,maxSize:W=100,minSize:k=0}=c.constraints,{panelSize:M}=ee(h,c,p);M!=null&&(b&&$&&M===v?v!==C&&D(c,C):M<k?D(c,k):M>W&&D(c,W))},[D]),ye=F((c,y)=>{const{direction:p}=L.current,{layout:h}=z.current;if(!g.current)return;const v=Ee(c,g.current);x(v,`Drag handle element not found for id "${c}"`);const b=an(p,y);E({dragHandleId:c,dragHandleRect:v.getBoundingClientRect(),initialCursorPosition:b,initialLayout:h})},[]),ue=F(()=>{E(null)},[]),U=F(c=>{const{panelDataArray:y}=z.current,p=le(y,c);p>=0&&(y.splice(p,1),delete I.current[c.id],z.current.panelDataArrayChanged=!0)},[]),pn=vn(()=>({collapsePanel:q,direction:o,dragState:f,expandPanel:B,getPanelSize:V,getPanelStyle:O,groupId:u,isPanelCollapsed:X,isPanelExpanded:A,reevaluatePanelConstraints:T,registerPanel:J,registerResizeHandle:_,resizePanel:D,startDragging:ye,stopDragging:ue,unregisterPanel:U,panelGroupElement:g.current}),[q,f,o,B,V,O,u,X,A,T,J,_,D,ye,ue,U]),hn={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return ae(Se.Provider,{value:pn},ae(P,{...d,children:n,className:t,id:r,ref:g,style:{...hn,...m},"data-panel-group":"","data-panel-group-direction":o,"data-panel-group-id":u}))}const Un=Xe((e,n)=>ae(fn,{...e,forwardedRef:n}));fn.displayName="PanelGroup";Un.displayName="forwardRef(PanelGroup)";function le(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ee(e,n,t){const o=le(e,n),r=o===e.length-1?[o-1,o]:[o,o+1],l=t[o];return{...n.constraints,panelSize:l,pivotIndices:r}}function qn({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:o}){te(()=>{if(e||t==null||o==null)return;const i=Ee(n,o);if(i==null)return;const r=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const s=i.getAttribute("data-panel-group-id");x(s,`No group element found for id "${s}"`);const a=ge(s,o),m=rn(s,n,o);x(m!==null,`No resize element found for id "${n}"`);const P=l.shiftKey?m>0?m-1:a.length-1:m+1<a.length?m+1:0;a[P].focus();break}}};return i.addEventListener("keydown",r),()=>{i.removeEventListener("keydown",r)}},[o,e,n,t])}function Jn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:o,id:i,onDragging:r,style:l={},tabIndex:s=0,tagName:a="div",...m}){const P=G(null),d=G({onDragging:r});te(()=>{d.current.onDragging=r});const u=Te(Se);if(u===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:g,groupId:f,registerResizeHandle:E,startDragging:w,stopDragging:S,panelGroupElement:I}=u,R=Ae(i),[N,L]=pe("inactive"),[z,q]=pe(!1),[B,V]=pe(null),O=G({state:N});return oe(()=>{O.current.state=N}),te(()=>{if(t)V(null);else{const A=E(R);V(()=>A)}},[t,R,E]),te(()=>{var A,J;if(t||B==null)return;const _=P.current;x(_,"Element ref not attached");const D=(T,ye,ue)=>{if(ye)switch(T){case"down":{L("drag"),w(R,ue);const{onDragging:U}=d.current;U&&U(!0);break}case"move":{const{state:U}=O.current;U!=="drag"&&L("hover"),B(ue);break}case"up":{L("hover"),S();const{onDragging:U}=d.current;U&&U(!1);break}}else L("inactive")};return Nn(R,_,g,{coarse:(A=o==null?void 0:o.coarse)!==null&&A!==void 0?A:15,fine:(J=o==null?void 0:o.fine)!==null&&J!==void 0?J:5},D)},[g,t,o,E,R,B,w,S]),qn({disabled:t,handleId:R,resizeHandler:B,panelGroupElement:I}),ae(a,{...m,children:e,className:n,id:i,onBlur:()=>q(!1),onFocus:()=>q(!0),ref:P,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:s,"data-panel-group-direction":g,"data-panel-group-id":f,"data-resize-handle":"","data-resize-handle-active":N==="drag"?"pointer":z?"keyboard":void 0,"data-resize-handle-state":N,"data-panel-resize-handle-enabled":!t,"data-panel-resize-handle-id":R})}Jn.displayName="PanelResizeHandle";export{bn as P,Un as a,Jn as b};
