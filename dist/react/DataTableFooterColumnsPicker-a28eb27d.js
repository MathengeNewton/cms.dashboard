import{ar as F,an as P,j as d,F as S,a as n,a3 as T,G as j,as as B,p as D,Q as p,r as E,e as I,ao as M,ap as L}from"./index-ecbcc3c7.js";import{r as m}from"./react-e483b31d.js";import"./classnames-eea0979a.js";import"./react-debounce-input-20b6d49d.js";import{a as N}from"./react-redux-7b717b6c.js";import{y as f}from"./lodash-bd2b80f6.js";import{u as O}from"./react-i18next-91d47f13.js";function V(h){const[i]=O(),{table:l,columns:_}=h,g=N(),y=F(),t=P(),[C,u]=m.useState(!1),[b,c]=m.useState(!1),x=e=>{var a,s,o,r;return!!((r=(o=(s=(a=t==null?void 0:t.company_user)==null?void 0:a.react_settings)==null?void 0:s.table_footer_columns)==null?void 0:o[l])!=null&&r.includes(e))},v=(e,a)=>{var o,r;let s=((r=(o=t==null?void 0:t.company_user)==null?void 0:o.react_settings.table_footer_columns)==null?void 0:r[l])||[];a?s=[...s,e]:s=s.filter(k=>k!==e),y(`company_user.react_settings.table_footer_columns.${l}`,s)},U=()=>{const e=f.cloneDeep(t);e&&!C&&(p.processing(),u(!0),E("PUT",I("/api/v1/company_users/:id",{id:e.id}),e).then(a=>{p.success("updated_settings"),f.set(e,"company_user",a.data.data),M(["company_users"]),g(L(t)),c(!1)}).finally(()=>u(!1)))};return d(S,{children:[n("div",{className:"text-sm cursor-pointer",onClick:()=>c(!0),children:i("footer")}),d(T,{title:i("footer"),visible:b,onClose:()=>c(!1),children:[n("div",{className:"flex flex-col",children:_.map((e,a)=>n(j,{leftSide:e.label,noExternalPadding:!0,withoutWrappingLeftSide:!0,pushContentToRight:!0,children:n(B,{checked:x(e.id),onValueChange:s=>v(e.id,s)})},a))}),n(D,{behavior:"button",onClick:U,children:i("save")})]})]})}export{V as D};
