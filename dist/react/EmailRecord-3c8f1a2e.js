import{k as N,b as y,j as e,a as s,O as C,d as b,g,p as w,r as $,e as j,Q as k}from"./index-ecbcc3c7.js";import{c}from"./classnames-eea0979a.js";import{r as B}from"./react-e483b31d.js";import{s as l}from"./styled-components-2e13d465.js";import{J as E}from"./react-icons-071f44cd.js";import"./react-debounce-input-20b6d49d.js";import"./react-redux-7b717b6c.js";import{u as S}from"./react-i18next-91d47f13.js";import{a as _}from"./react-router-82cc6afb.js";import{a as D,h as I}from"./react-feather-90dbe0b6.js";const R=l.div`
  &:hover {
    background-color: ${o=>o.theme.hoverColor};
  }
`,T=l.div`
  &:hover {
    background-color: ${o=>o.theme.hoverColor};
  }
`;function G(o){const[i]=S(),m=_(),r=N(),{dateFormat:d}=y(),{emailRecord:a,index:h,withBottomBorder:p,withEntityNavigationIcon:u}=o,[n,v]=B.useState(!!h),x=t=>{$("POST",j("/api/v1/reactivate_email/:id",{id:t})).then(()=>k.success("reactivated_email"))};return e("div",{className:c("flex flex-col",{"border-b":p}),style:{borderColor:r.$5,color:r.$3,colorScheme:r.$0},children:[e(R,{className:c("flex justify-between px-3 py-3",o.className,{"cursor-pointer":!!a.events.length}),theme:{hoverColor:r.$4},onClick:()=>!!a.events.length&&v(t=>!t),children:[e("div",{className:"flex flex-col flex-1 min-w-0 space-y-2 pr-5",children:[e("div",{className:"flex items-center space-x-3",children:[s("span",{className:"text-sm font-medium truncate",children:a.subject}),u&&s("div",{children:s(C,{className:"cursor-pointer",element:E,size:20,onClick:()=>m(b("/:entity/:id/edit",{id:a.entity_id,entity:`${a.entity}s`}))})})]}),e("span",{className:"text-sm truncate",children:[i("to"),": ",a.recipients]})]}),!!a.events.length&&e("div",{className:"flex items-center",children:[n&&s(D,{}),!n&&s(I,{})]})]}),s("div",{className:c({hidden:n}),children:a.events.map((t,f)=>e(T,{className:"flex flex-col flex-1 min-w-0 space-y-4 px-6 py-2",theme:{hoverColor:r.$4},children:[e("div",{className:"flex justify-between space-x-2",children:[e("span",{className:"text-sm truncate",children:[i("status"),": ",t.status]}),s("span",{className:"text-sm",children:g(t.date,d)})]}),e("div",{className:"flex space-x-2 justify-between",children:[s("span",{className:"text-sm truncate",children:t.recipient}),t.bounce_id&&s(w,{behavior:"button",type:"minimal",onClick:()=>x(t.bounce_id),children:i("reactivate")})]})]},f))})]})}export{G as E};
