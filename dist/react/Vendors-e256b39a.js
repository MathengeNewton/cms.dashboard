import{ai as D,b as I,c as S,l as x,aj as A,aP as E,ak as F,a as n,D as g,d as k,am as M,g as c,U as V,al as H,a2 as L,Q as O,O as P,aq as j,v as R,A as G,x as N,f as U,Y as $,Z as q,_}from"./index-e5ac1c37.js";import{r as z}from"./react-e483b31d.js";import{u as b}from"./react-i18next-91d47f13.js";import{D as Q}from"./DataTableColumnsPicker-e6b5c621.js";import{I as Y}from"./ImportButton-1d04ed88.js";import{I as Z}from"./react-icons-071f44cd.js";import"./react-redux-7b717b6c.js";import"./react-dom-ce3e84ee.js";import"./@babel-e5cbf021.js";import"./scheduler-765c72db.js";import"./hoist-non-react-statics-2fceee1f.js";import"./react-is-e8e5dbb3.js";import"./use-sync-external-store-7794fa59.js";import"./lodash-bd2b80f6.js";import"./dayjs-75976aa4.js";import"./i18next-076b76a4.js";import"./axios-60492c0c.js";import"./react-hot-toast-d3a0fddd.js";import"./goober-70b4b9ca.js";import"./react-query-557fee5a.js";import"./@azure-485fd2d4.js";import"./react-router-82cc6afb.js";import"./@remix-run-dd360fb4.js";import"./@reduxjs-3eb15742.js";import"./immer-85efa438.js";import"./redux-fc7ec223.js";import"./reselect-26feef0e.js";import"./redux-thunk-ef899f4c.js";import"./jotai-4279821d.js";import"./classnames-eea0979a.js";import"./react-router-dom-67fe6288.js";import"./styled-components-2e13d465.js";import"./tslib-b7af3ea6.js";import"./@emotion-4a2a218f.js";import"./stylis-60528643.js";import"./react-datepicker-27eb8381.js";import"./react-debounce-input-20b6d49d.js";import"./lodash.debounce-ddb7250b.js";import"./@headlessui-220c51a1.js";import"./react-feather-90dbe0b6.js";import"./prop-types-20aec754.js";import"./@tippyjs-11b6b10a.js";import"./tippy.js-87d3e7d2.js";import"./@popperjs-0aa08b12.js";import"./formik-4b8c99cc.js";import"./deepmerge-15f827de.js";import"./lodash-es-87d1a1d5.js";import"./react-fast-compare-76c36d98.js";import"./tiny-warning-c932d744.js";import"./react-use-57961871.js";import"./react-phone-number-input-4fffe465.js";import"./react-verification-input-7fc81ee7.js";import"./collect.js-ebd014c9.js";import"./uuid-4a60fe23.js";import"./react-colorful-fdedf134.js";import"./@react-oauth-6ebaa241.js";import"./react-qr-code-d89187e6.js";import"./qr.js-8bf59ccc.js";import"./react-select-0a6a834e.js";import"./@floating-ui-f24065be.js";import"./use-isomorphic-layout-effect-90624eb0.js";import"./memoize-one-297ddbcb.js";import"./@hello-pangea-bfa72c9a.js";import"./use-memo-one-4ec633fc.js";import"./css-box-model-096cf826.js";import"./tiny-invariant-bee4f299.js";import"./raf-schd-5404ed65.js";import"./array-move-3ca81c74.js";import"./antd-c1c66b30.js";import"./rc-util-6b529ca7.js";import"./@ant-design-6511c079.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./@ctrl-fb5a5473.js";import"./rc-resize-observer-f83f8b7d.js";import"./rc-motion-e4fc5c25.js";import"./rc-picker-0dcad4af.js";import"./@rc-component-79b9f5ef.js";import"./rc-pagination-2b5394e8.js";import"./rc-field-form-4872bfbf.js";import"./async-validator-dee29e8b.js";import"./@tinymce-7238a8f2.js";import"./pretty-bytes-5eb460d8.js";import"./react-dropzone-eadb3dbd.js";import"./file-selector-6cb2a621.js";import"./attr-accept-6df8d728.js";import"./react-string-replace-e94ae631.js";import"./currency.js-57f74176.js";import"./react-json-tree-c223e40a.js";import"./react-base16-styling-898a7ddc.js";import"./base16-823cae66.js";import"./color-65b618c9.js";import"./color-string-f5cd3c3e.js";import"./color-name-b7949e8c.js";import"./simple-swizzle-58fb3c22.js";import"./color-convert-946e453a.js";import"./lodash.curry-52fa8793.js";import"./react-turnstile-a0253d8c.js";import"./mitt-f7ef348c.js";import"./@sentry-71948bea.js";import"./@sentry-internal-c0f5a295.js";const T=["number","name","city","phone","entity_state","created_at"];function w(){const[o,m,a,s]=D({entity:"vendor"});return["number","name","city","phone","entity_state","created_at","address2","archived_at","last_login_at","contacts","country_id","currency_id",o,m,a,s,"documents","id_number","is_deleted","postal_code","private_notes","address1","updated_at","vat_number","website"]}function J(){var h;const{t:o}=b(),{dateFormat:m}=I(),a=S(),s=x(),d=A(),u=E(),e=F();w();const i=z.useCallback(t=>{const r=[];return t.contacts.map(y=>r.push(`${y.first_name} ${y.last_name}`)),r.join("<br />")},[]),[l,f,v,C]=D({entity:"vendor"}),B=[{column:"number",id:"number",label:o("number"),format:(t,r)=>n(g,{to:k("/vendors/:id",{id:r.id}),renderSpan:a("vendor",r),children:t})},{column:"name",id:"name",label:o("name"),format:(t,r)=>n(g,{to:k("/vendors/:id",{id:r.id}),renderSpan:a("vendor",r),children:t})},{column:"city",id:"city",label:o("city")},{column:"phone",id:"phone",label:o("phone")},{column:"entity_state",id:"id",label:o("entity_state"),format:(t,r)=>n(M,{entity:r})},{column:"created_at",id:"created_at",label:o("created_at"),format:t=>c(t,m)},{column:"last_login_at",id:"last_login",label:o("last_login"),format:t=>c(t,m)},{column:"address1",id:"address1",label:o("address1")},{column:"address2",id:"address2",label:o("address2")},{column:"archived_at",id:"archived_at",label:o("archived_at"),format:t=>c(t,m)},{column:"contacts",id:"id",label:o("contacts"),format:(t,r)=>n("span",{dangerouslySetInnerHTML:{__html:i(r)}})},{column:"country_id",id:"country_id",label:o("country"),format:t=>{var r;return t&&((r=d(t))==null?void 0:r.name)}},{column:"currency_id",id:"id",label:o("currency"),format:t=>{var r;return t&&((r=u(t))==null?void 0:r.code)}},{column:l,id:"custom_value1",label:l,format:t=>e("vendor1",t==null?void 0:t.toString())},{column:f,id:"custom_value2",label:f,format:t=>e("vendor2",t==null?void 0:t.toString())},{column:v,id:"custom_value3",label:v,format:t=>e("vendor3",t==null?void 0:t.toString())},{column:C,id:"custom_value4",label:C,format:t=>e("vendor4",t==null?void 0:t.toString())},{column:"documents",id:"documents",label:o("documents"),format:(t,r)=>r.documents.length},{column:"id_number",id:"id_number",label:o("id_number")},{column:"is_deleted",id:"is_deleted",label:o("is_deleted"),format:(t,r)=>r.is_deleted?o("yes"):o("no")},{column:"postal_code",id:"postal_code",label:o("postal_code")},{column:"private_notes",id:"private_notes",label:o("private_notes"),format:t=>n(V,{size:"regular",truncate:!0,containsUnsafeHTMLTags:!0,message:t,children:n("span",{dangerouslySetInnerHTML:{__html:t.slice(0,50)}})})},{column:"updated_at",id:"updated_at",label:o("updated_at"),format:t=>c(t,m)},{column:"vat_number",id:"vat_number",label:o("vat_number")},{column:"website",id:"website",label:o("website"),format:t=>n(H,{text:t.toString()})}],p=((h=s==null?void 0:s.react_table_columns)==null?void 0:h.vendor)||T;return B.filter(t=>p.includes(t.column)).sort((t,r)=>p.indexOf(t.column)-p.indexOf(r.column))}const K=()=>{const[o]=b(),m=j(),a=e=>e.some(({documents:i})=>i.length),s=e=>e.flatMap(({documents:i})=>i.map(({id:l})=>l)),d=(e,i)=>{const l=s(e);m(l,"download"),i==null||i([])};return[({selectedResources:e,setSelected:i})=>n(L,{onClick:()=>e&&a(e)?d(e,i):O.error("no_documents_to_download"),icon:n(P,{element:Z}),children:o("documents")})]};function qo(){const{documentTitle:o}=R("vendors"),[m]=b(),a=G(),s=[{name:m("vendors"),href:"/vendors"}],d=J(),u=w(),e=K();return n(N,{title:o,breadcrumbs:s,withoutBackButton:!0,children:n(U,{resource:"vendor",columns:d,endpoint:"/api/v1/vendors?sort=id|desc",bulkRoute:"/api/v1/vendors/bulk",linkToCreate:"/vendors/create",linkToEdit:"/vendors/:id/edit",withResourcefulActions:!0,customBulkActions:e,rightSide:n($,{type:"component",guards:[q(_("create_vendor"),_("edit_vendor"))],component:n(Y,{route:"/vendors/import"})}),leftSideChevrons:n(Q,{columns:u,defaultColumns:T,table:"vendor"}),linkToCreateGuards:[_("create_vendor")],hideEditableOptions:!a("edit_vendor")})})}export{qo as default};
