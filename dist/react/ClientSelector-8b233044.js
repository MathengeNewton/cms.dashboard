import{A as b,az as k,k as g,j as a,F as _,a as t,aD as p,z as o,d as C,aE as u,aF as S,aG as $}from"./index-ecbcc3c7.js";import"./classnames-eea0979a.js";import{r as f}from"./react-e483b31d.js";import"./react-debounce-input-20b6d49d.js";import"./react-redux-7b717b6c.js";import{u as N}from"./react-i18next-91d47f13.js";function T(n){var m;const[s]=N(),[l,v]=f.useState(),d=b(),{resource:i}=n,x=k(),y=e=>!!(i==null?void 0:i.invitations.find(c=>c.client_contact_id===e));f.useEffect(()=>{i!=null&&i.client_id&&x.find(i.client_id).then(e=>v(e))},[i==null?void 0:i.client_id]);const h=g();return a(_,{children:[a("div",{className:"flex  flex-col justify-between space-y-2",style:{color:h.$3},children:[n.textOnly?t("p",{className:"text-sm",children:(m=i==null?void 0:i.client)==null?void 0:m.display_name}):t(p,{inputLabel:s("client"),onChange:e=>n.onChange(e.id),value:i==null?void 0:i.client_id,readonly:n.readonly||!i,clearButton:!!(i!=null&&i.client_id),onClearButtonClick:n.onClearButtonClick,initiallyVisible:!(i!=null&&i.client_id),errorMessage:n.errorMessage,disableWithSpinner:n.disableWithSpinner}),l&&a("div",{className:"space-x-2",children:[d("edit_client")&&t(o,{to:C("/clients/:id/edit",{id:l.id}),children:s("edit_client")}),d("edit_client")&&t("span",{className:"text-sm",children:"/"}),(d("view_client")||d("edit_client"))&&t(o,{to:C("/clients/:id",{id:l.id}),children:s("view_client")})]})]}),(i==null?void 0:i.client_id)&&l&&l.contacts.map((e,r)=>a("div",{className:"flex justify-between items-center",children:[a("div",{children:[t(u,{id:e.id,value:e.id,label:e.first_name.length>=1?`${e.first_name} ${e.last_name}`:e.email||l.display_name,checked:y(e.id),onChange:c=>n.onContactCheckboxChange(c.target.value,c.target.checked)}),a("div",{children:[e.first_name&&t("p",{className:"text-sm",style:{color:h.$3},children:e.email}),i.invitations.length>=1&&a(_,{children:[t(o,{to:`${i.invitations[0].link}?silent=true&client_hash=${l.client_hash}`,external:!0,children:s("view_in_portal")}),t(S,{text:i.invitations[0].link})]})]})]}),e.is_locked&&t($,{size:24})]},r))]})}export{T as C};
